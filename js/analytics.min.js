function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(a=>{function t(t,e,n){var o,a="";n&&((o=new Date).setTime(o.getTime()+24*n*60*60*1e3),a="; expires="+o.toUTCString()),document.cookie=t+"="+(e||"")+a+"; path=/"}function e(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return null}function i(){e("swipepages_user")?o=e("swipepages_user"):(o=Math.random().toString(36).substring(2)+Date.now().toString(36),t("swipepages_user",o)),f&&m&&!e(f)&&t(f,m)}function r(){var t={variantId:m,pageId:f,Create:!0,userAgent:navigator.userAgent,cookie:o};p&&(t.accountId=p),O&&(t.wasFormSubmitted=O),x&&(t.anchorConversionLink=x),E&&(t.payment=E),a.ajax({method:"POST",url:tatsuFrontendConfig.apiBaseUrl+"/analytics",data:JSON.stringify(t),contentType:"text/plain"}).done(function(t){k=!0,w=t,tatsuFrontendConfig.goals.externalFormSubmission&&tatsuFrontendConfig.goals.redirectUrl&&(t={pageId:f,variantId:m,formId:w,redirectUrl:tatsuFrontendConfig.goals.redirectUrl},localStorage.setItem("spExternalFormSubmission",JSON.stringify(t)))}).fail(function(t,e,n){console.log(n)})}function n(){Math.abs(v-h)<3e4&&document.hasFocus()&&0,h=Date.now()}function s(){window.pageYOffset>S&&(window.pageYOffset>=y&&0,A(window.pageYOffset),S=window.pageYOffset,0),v=Date.now()}function u(){var t;k&&(t=a(this).data("tracking-href")||a(this).attr("href"),-1<tatsuFrontendConfig.goals.links.indexOf(t))&&(t={pageId:f,variantId:m,anchorConversionLink:x=1,id:w,userAgent:I},navigator.sendBeacon(tatsuFrontendConfig.apiBaseUrl+"/analytics",JSON.stringify(t)))}function c(){E=1}function d(){var o;window.addEventListener("scroll",s),window.addEventListener("mousemove",s),window.addEventListener("keypress",s),window.setInterval(n,1e3),window.addEventListener("paymentSuccess",c),tatsuFrontendConfig.goals.formSubmission&&(a(".tatsu-form").on("submit",U),o=0,a(document).ready(function(){var n=setInterval(function(){var t,e;o<10?(e=a(".hs-button"),t=a("iframe").contents().find(".hs-button"),0!=(e=a.merge(e,t)).length&&(clearInterval(n),e.on("click",function(){U()}))):clearInterval(n),o+=1},1e3)})),tatsuFrontendConfig.goals.linkClicks&&a("a").on("click",u)}function l(){f&&m&&g()&&(i(),r(),d())}function g(){var t=new URL(window.location.href),e=new URLSearchParams(t.search).get("sp_payment_redirect");return!(t.searchParams.has("couponCode")&&t.searchParams.has("popupId")||e||window.spStopAnalytics)}Date.now();var o,f,m,p,w,y=window.innerHeight,h=Date.now(),v=Date.now(),S=0,I=navigator.userAgent,b=document.body,F=document.documentElement,C=Math.max(b.scrollHeight,b.offsetHeight,F.clientHeight,F.scrollHeight,F.offsetHeight),x=(screen.width,0),O=0,k=!1,E=0,U=(tatsuFrontendConfig.goals=tatsuFrontendConfig.goals||{},function(){var t;O=1,k&&(t={pageId:f,variantId:m,wasFormSubmitted:O,id:w,userAgent:I},a.ajax({method:"POST",url:tatsuFrontendConfig.apiBaseUrl+"/analytics",data:JSON.stringify(t),contentType:"text/plain"}))}),A=function(t){0};a(function(){var t,e,n,o;Date.now(),f=document.getElementById("swipe-pages-page").value,m=document.getElementById("swipe-pages-variant").value,"function"==typeof window.spAnalyticsSetSource&&"object"==_typeof(t=window.spAnalyticsSetSource())&&(f=t.pageId||f,m=t.variantId||m,O=t.wasFormSubmitted||O,x=t.anchorConversionLink||x,E=t.payment||E),document.getElementById("swipe-pages-account")&&(p=document.getElementById("swipe-pages-account").value),f&&m&&g()&&(i(),r(),d(),t=(t=new URL(window.location.href)).origin+t.pathname,e=new URLSearchParams(window.location.search),n="true"===e.get("sp_externalFormSubmission"),o=JSON.parse(localStorage.getItem("spExternalFormSubmission"))||{},t=o.redirectUrl==t,n)&&t&&(e.delete("sp_externalFormSubmission"),n=window.location.pathname+"?"+e.toString(),window.history.replaceState({},"",n),t={pageId:o.pageId||null,variantId:o.variantId||null,wasFormSubmitted:1,id:o.formId||null,userAgent:navigator.userAgent},localStorage.removeItem("spExternalFormSubmission"),a.ajax({method:"POST",url:tatsuFrontendConfig.apiBaseUrl+"/analytics",data:JSON.stringify(t),contentType:"text/plain"})),window.addEventListener("reInitAnalytics",l)})})(jQuery);